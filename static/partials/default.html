<div id="contentContainer" class="centeringContainer">
    <div ng-include src="'static/partials/argument.html'" ng-show="nav.type!='root'"></div>
    <div style="float: left; width: 200px; min-height: 10px; padding: 25px;" ng-show="nav.type=='root'"></div>

    <div id="centerColumn" class="contentBox">
        <div spam-mark show-if="user.isLoggedIn && nav.type!='root'" entity="nodeInfo" mark-func="markNode"></div>
        <div follow-star show-if="user.isLoggedIn && nav.type!='root'" entity="nodeInfo" mark-func="markNode" width="21" height="21"></div>
        <h1 ng-show="nav.type!='root'">{{ nodeInfo.fullTitle }}</h1>
        <h1 ng-show="nav.type=='root'" data-i18n="_rootCaption_"></h1>
        <p ng-show="nav.type=='root'" data-i18n="_rootText_"></p>
        <div ng-show="nav.type!='arg'  && nav.type!='root'">
            <div findeco-graph data="graphData" path="nav.nodePath" class="graph"></div>
        </div>
        <p ng-show="nav.type!='root'" ng-bind-html-unsafe="parse(nodeInfo.wikiText, 'ignored')"></p>

        <div ng-show="!allExpanded &&  nav.type!='arg' && nav.type!='root'" class="btn btn-primary" ng-click="expandAll()"
             data-i18n="_expandAllSections_"></div>
        <div ng-repeat="section in nodeInfo.indexList">
            <a ng-show="!section.isExpanded" ng-hide="nav.type=='root'" ng-click="expandSection(section)"
               style="float:left;position: relative; top: 8px; margin-right: 5px;"><img src="static/images/expand.png"
                                onmouseover="this.src='static/images/expand_hover.png';"
                                onmouseout="this.src='static/images/expand.png';"
                    ></a>
            <a ng-show="section.isExpanded" ng-click="collapseSection(section)"
               style="float:left;position: relative; top: 8px; margin-right: 5px;"><img src="static/images/collapse.png"
                        onmouseover="this.src='static/images/collapse_hover.png';"
                        onmouseout="this.src='static/images/collapse.png';"
                    ></a>

            <h2 ng-show="!section.isExpanded">
                <a href="/#/{{ nav.getPathForNode(section.shortTitle,  section.index) }}">{{section.fullTitle}}</a>
            </h2>

            <div class="sectionText" ng-show="section.isExpanded" ng-repeat="paragraph in section.paragraphs">
                <div spam-mark show-if="user.isLoggedIn" entity="paragraph" mark-func="markNode"></div>
                <div follow-star show-if="user.isLoggedIn" entity="paragraph" mark-func="markNode" width="21" height="21"></div>
                <div ng-bind-html-unsafe="parse(paragraph.wikiText,paragraph.path)"></div>
            </div>
        </div>
        <div ng-show="nav.type!='arg' && user.isLoggedIn && nav.type!='root'" class="btn btn-primary" ng-click="relocate('create/topic')"
             data-i18n="_createNewText_"></div>

        <div ng-show="nav.type!='arg' && user.isLoggedIn && nav.type!='root'" class="btn btn-primary" ng-click="relocate('create/derivate')"
             data-i18n="_createDerivativeText_"></div>

        <div ng-show="nav.type!='arg' && user.isLoggedIn && nav.type!='root'" class="btn btn-primary" ng-click="relocate('create/opposing')"
             data-i18n="_createOpposingText_"></div>

        <div ng-show="nav.type=='arg' && nodeInfo.derivate != undefined && nodeInfo.derivate != '' && nav.type!='root'" class="btn btn-primary"
             ng-click="relocateToDerivate()" data-i18n="_goToDerivateNode_"></div>
    </div>

    <div ng-include src="'static/partials/microblogging.html'" ng-show="nav.type!='root'"></div>
</div>