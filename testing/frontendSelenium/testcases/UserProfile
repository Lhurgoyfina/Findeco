<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="http://127.0.0.1:8000/" />
<title>UserProfile</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">UserProfile</td></tr>
</thead><tbody>
<tr>
	<td>open</td>
	<td>/</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=${varUserName}</td>
	<td></td>
</tr>
<!---->
<!--Check userdescriptionpreview -->
<tr>
	<td>waitForTextPresent</td>
	<td>Vorschau</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>//textarea[@ng-model='user.description']</td>
	<td>Dies ist die Userbeschreibung</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td>2000</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>Dies ist die Userbeschreibung</td>
	<td></td>
</tr>
<!---->
<!--Store Description-->
<tr>
	<td>verifyCssCount</td>
	<td>css=.alert-success</td>
	<td>0</td>
</tr>
<tr>
	<td>click</td>
	<td>css=input[type='submit']</td>
	<td></td>
</tr>
<tr>
	<td>waitForCssCount</td>
	<td>css=.alert-success</td>
	<td>1</td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.close</td>
	<td></td>
</tr>
<!---->
<!--Change email - Invalid Email Address-->
<tr>
	<td>storeExpression</td>
	<td>javascript{&quot;User&quot; + new Date().getTime()}</td>
	<td>varMailAdress</td>
</tr>
<tr>
	<td>type</td>
	<td>xpath=(//input[@type='text'])[1]</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>xpath=(//input[@type='text'])[1]</td>
	<td>${varMailAdress} trash-mail.com</td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//input[@value='Speichern'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>waitForCssCount</td>
	<td>css=.alert-error</td>
	<td>1</td>
</tr>
<!---->
<!--Change email - store of address-->
<tr>
	<td>storeExpression</td>
	<td>javascript{new Date().getTime()}</td>
	<td>varMailAdress</td>
</tr>
<tr>
	<td>type</td>
	<td>xpath=(//input[@type='text'])[1]</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>xpath=(//input[@type='text'])[1]</td>
	<td>${varMailAdress}@trash-mail.com</td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//input[@value='Speichern'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>waitForCssCount</td>
	<td>css=.alert-success</td>
	<td>1</td>
</tr>
<!---->
<!--Change email - ensure Request is displayed -->
<tr>
	<td>open</td>
	<td>/</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=${varUserName}</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>${varMailAdress}@trash-mail.com</td>
	<td></td>
</tr>
<!---->
<!--Change email - activate new Mailaddress-->
<tr>
	<td>open</td>
	<td>http://www.trash-mail.com</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>name=mail</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=mail</td>
	<td>${varMailAdress}</td>
</tr>
<tr>
	<td>pause</td>
	<td>40000</td>
	<td>40000</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=submit</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>link=Please verify this e-mail-address</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Please verify this e-mail-address</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>Datei-Anh√§nge:</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>css=.mail_content a</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>1000</td>
	<td>1000</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>NEEDS to be adjusted</td>
	<td></td>
</tr>
<!---->
<!--Change email - ensure mailaddress is stored after confirmation-->
<tr>
	<td>open</td>
	<td>/</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=${varUserName}</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>aktuelle Adresse: ${varMailAdress}@trash-mail.com</td>
	<td></td>
</tr>
<!---->
<!--Change Username-->
<tr>
	<td>storeExpression</td>
	<td>javascript{&quot;User&quot; + new Date().getTime()}</td>
	<td>varUserName</td>
</tr>
<tr>
	<td>type</td>
	<td>xpath=(//input[@type='text'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>xpath=(//input[@type='text'])[2]</td>
	<td>${varUserName}</td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//input[@value='Speichern'])[3]</td>
	<td></td>
</tr>
<tr>
	<td>waitForCssCount</td>
	<td>css=.alert-success</td>
	<td>1</td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.close</td>
	<td></td>
</tr>
<!---->
<!--Change Password-->
<tr>
	<td>type</td>
	<td>xpath=(//input[@type='password'])[1]</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>xpath=(//input[@type='password'])[1]</td>
	<td>pwd</td>
</tr>
<tr>
	<td>type</td>
	<td>xpath=(//input[@type='password'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>xpath=(//input[@type='password'])[2]</td>
	<td>pwd</td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//input[@value='Speichern'])[4]</td>
	<td></td>
</tr>
<tr>
	<td>waitForCssCount</td>
	<td>css=.alert-success</td>
	<td>1</td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.close</td>
	<td></td>
</tr>
<!---->
<!--Relog with new Credenitals-->
<tr>
	<td>click</td>
	<td>css=img[alt=&quot;Logout&quot;]</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Inhalte</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Anmelden</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>Login</td>
	<td>Login</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>//input[@ng-model='username']</td>
	<td>${varUserName}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>//input[@type='password']</td>
	<td>pwd</td>
</tr>
<tr>
	<td>click</td>
	<td>css=input.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=img[alt=&quot;Logout&quot;]</td>
	<td></td>
</tr>
</tbody></table>
</body>
</html>
